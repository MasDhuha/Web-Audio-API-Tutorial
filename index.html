<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Web Audio API for HTML5 Games</title>
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="bower_components/seiyria-bootstrap-slider/css/bootstrap-slider.css">
    <link rel="stylesheet" href="bower_components/prism/themes/prism.css">
    <style>
      h2, h3 { margin: 40px 0 20px 0; padding-bottom: 10px; border-bottom: 2px solid #333 }
      pre { margin-bottom: 20px !important }
      button { margin-bottom: 10px !important }
      .strike { text-decoration : line-through }
    </style>
</head>
<body>

  <div class="container">
    <div class="row">
      <div class="col-md-9">
        <h1>Web Audio API for HTML5 Games</h1>
        <p>This code accompanies the tutorial [link].</p>


<!-- Test for API support -->
<div>
<h2>Test for API support</h2>
<pre><code class="language-javascript">var context, sound, sounds, format, examples;

try {
  // create an AudioContext
  context = new AudioContext();
} catch(e) {
  // API not supported
  throw new Error('Web Audio API not supported.');
}
</code></pre>
</div>


<!-- Load a sound -->
<div>
<h2>Load a sound</h2>
<pre><code class="language-javascript">function loadSound(url) {
  var request = new XMLHttpRequest();
  request.open('GET', url, true);
  request.responseType = 'arraybuffer';

  request.onload = function() {
    // request.response is encoded... so decode it now
    context.decodeAudioData(request.response, function(buffer) {
      sound = buffer;
    }, function(err) {
      throw new Error(err);
    });
  }

  request.send();
}
// loadSound('audio/BaseUnderAttack.mp3');
</code></pre>
<button class="btn btn-success" data-button="example-loadOne">
  <span class="glyphicon glyphicon-download"></span>
  Load sci-fi sound
</button>
</div>


<!-- Testing file format support -->
<div>
<h3>Testing file format support</h3>
<pre><code class="language-javascript">var format = '.' + (new Audio().canPlayType('audio/ogg') !== '' ? 'ogg' : 'mp3');
// loadSound('audio/baseUnderAttack' + format);
</code></pre>
</div>


<!-- Play a sound -->
<div>
<h2>Play a sound</h2>
<pre><code class="language-javascript">function playSound(buffer) {
  var source = context.createBufferSource();
  source.buffer = buffer;
  source.connect(context.destination);
  source.noteOn(0);
}
// playSound(sound);
</code></pre>
<button class="btn btn-success" data-button="example-loadOne">
  <span class="glyphicon glyphicon-download"></span>
  Load sci-fi sound
</button>
<button class="btn btn-primary" data-button="example-playOne">
  <span class="glyphicon glyphicon-play"></span>
  Play sci-fi sound
</button>
</div>


<!-- Load multiple sounds -->
<div>
<h2>Load multiple sounds</h2>
<pre><code class="language-javascript">

</code></pre>
<button class="btn btn-success" data-button="example-loadMultiple">
  <span class="glyphicon glyphicon-download"></span>
  Load laser, coin and explosion sounds
</button><br />
<button class="btn btn-primary" data-button="example-playLaser">
  <span class="glyphicon glyphicon-play"></span>
  Play laser sound
</button>
<button class="btn btn-primary" data-button="example-playCoin">
  <span class="glyphicon glyphicon-play"></span>
  Play coin sound
</button>
<button class="btn btn-primary" data-button="example-playExplosion">
  <span class="glyphicon glyphicon-play"></span>
  Play explosion sound
</button>
</div>


<!-- Adjusting the volume -->
<div>
<h2>Adjusting the volume</h2>
<pre><code class="language-javascript">

</code></pre>
<div>
  <input type="text" data-slider="example-volumeSlider" data-slider-min="0" data-slider-max="3" data-slider-step="0.1" data-slider-value="1" />
  <button class="btn btn-primary" data-button="example-playLaser">
    <span class="glyphicon glyphicon-play"></span>
    Play laser sound @ 1.00 gain
  </button>
</div>
</div>


<!-- Muting a sound -->
<div>
<h2>Muting a sound</h2>
<pre><code class="language-javascript">

</code></pre>
<button class="btn btn-primary" data-button="example-playNyan">
  <span class="glyphicon glyphicon-play"></span>
  Play <span class="strike">annoying</span> awesome music
</button>
<button class="btn btn-success" data-button="example-muteNyan">
  <span class="glyphicon glyphicon-volume-off"></span>
  Mute <span class="strike">annoying</span> awesome music
</button>
</div>


<!-- Looping sounds -->
<div>
<h2>Looping sounds</h2>
<pre><code class="language-javascript">

</code></pre>
</div>


<!-- Crossfading sounds -->
<div>
<h2>Crossfading sounds</h2>
<pre><code class="language-javascript">

</code></pre>
</div>


      </div>
      <div class="col-md-3">
        Menu
      </div>
    </div>
  </div>


  <div class="alert alert-success alert-dismissable hidden">
    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
    <strong>Success!</strong>
    <p class="message">Message here</p>
  </div>


  <div class="alert alert-danger alert-dismissable hidden">
    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
    <strong>Error!</strong>
    <p class="message">Message here</p>
  </div>

  <script src="bower_components/jquery/dist/jquery.min.js"></script>
  <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
  <script src="bower_components/seiyria-bootstrap-slider/js/bootstrap-slider.js"></script>
  <script src="bower_components/prism/prism.js"></script>
  <script src="js/main.js"></script>

</body>
</html>